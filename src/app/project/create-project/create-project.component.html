<app-left-sidebar></app-left-sidebar>
<div class="panel panel-default panel-border-color panel-border-color-primary">
  <div class="panel-heading panel-heading-divider">Create Project
  </div>
  <div class="panel-body">
    <form #projectInfoForm="ngForm" (ngSubmit)="create(projectInfoForm)">
      <div *ngIf="projectData">
        <div class="row">
          <div class="col-md-3">
            <div class="xs-pt-10 form-group" ngModelGroup="Name" #Name="ngModelGroup" [ngClass]="{  
            'has-error': Name.invalid && (Name.dirty || Name.touched)}">
              <label for="name">Name</label>
              <input [(ngModel)]="projectData.ViewModel.Name" type="text" placeholder="Name" name="Name" class="form-control" id="name"
                required>
            </div>
          </div>
          <div class="col-md-3">
            <div class="xs-pt-10 form-group" ngModelGroup="Type" #Type="ngModelGroup" [ngClass]="{  
            'has-error': Type.invalid && (Type.dirty || Type.touched)}">
              <label for="type">Type</label>
              <!-- <select [(ngModel)]="projectData.ViewModel.ProjectType" class="form-control" name="Type" id="type" required>
                  <option *ngFor="let type of projectData.Metadata.ProjectTypes" [value]="type" [selected]="type === projectData.ViewModel.ProjectType">{{type}}</option>
                </select> -->
              <ng-select class="impel-select" [(ngModel)]="projectData.ViewModel.ProjectType" [items]="projectData.Metadata.ProjectTypes"
                name="Type" placeholder="Select an Option" id="type" required>
              </ng-select>
            </div>
          </div>
          <div class="col-md-3">
            <div class="xs-pt-10 form-group" [ngClass]="{  
            'has-error': StartDate.invalid && (StartDate.dirty || StartDate.touched)}">
              <label for="startDate">Start Date</label>
              <div class="input-group" ngModelGroup="StartDate" #StartDate="ngModelGroup">
                <input [(ngModel)]="projectData.ViewModel.StartDate" bsDatepicker #startDateDp="bsDatepicker" [bsConfig]="{ dateInputFormat: 'MM/DD/YYYY', containerClass: 'theme-orange' }"
                  name="StartDate" type="text" id="startDate" class="form-control" required>
                <span class="input-group-addon btn btn-primary" (click)="startDateDp.toggle()">
                  <i class="icon-th mdi mdi-calendar"></i>
                </span>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="xs-pt-10 form-group">
              <label for="projectManager">Project Manager</label>
              <ng-select class="impel-select" [(ngModel)]="projectData.ViewModel.ProjectManager" [items]="projectData.Metadata.ProjectManagers"
                name="ProjectManager" bindLabel="Name" placeholder="Select an Option" id="projectManager" required>
              </ng-select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="xs-pt-10 form-group" ngModelGroup="Description" #Description="ngModelGroup" [ngClass]="{  
                'has-error': Description.invalid && (Description.dirty || Description.touched)}">
              <app-tinymce [(ngModel)]='projectData.ViewModel.Description' name="Description" required></app-tinymce>
            </div>
          </div>
        </div>
        <div class="text-right">
          <button type="submit" class="btn btn-success" [disabled]="projectInfoForm.pristine">Create</button>
        </div>
      </div>
    </form>
  </div>
</div>